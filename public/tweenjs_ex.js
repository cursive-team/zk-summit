/*!
* TweenJS-EX
* Visit https://github.com/jirotubuyaki
*
* Copyright (c) 2023 Masashi OKADA.
*
* I modified p._updateTargetProps method and added p.flower_sprite and p.flowerrnd_sprite.
*
* Permission is hereby granted, free of charge, to any person
* obtaining a copy of this software and associated documentation
* files (the "Software"), to deal in the Software without
* restriction, including without limitation the rights to use,
* copy, modify, merge, publish, distribute, sublicense, and/or sell
* copies of the Software, and to permit persons to whom the
* Software is furnished to do so, subject to the following
* conditions:
*
* The above copyright notice and this permission notice shall be
* included in all copies or substantial portions of the Software.
*
* THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
* EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
* OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
* NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
* HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
* WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
* FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
* OTHER DEALINGS IN THE SOFTWARE.
*/
/*!
* TweenJS
* Visit http://createjs.com/ for documentation, updates and examples.
*
* Copyright (c) 2010 gskinner.com, inc.
*
* Permission is hereby granted, free of charge, to any person
* obtaining a copy of this software and associated documentation
* files (the "Software"), to deal in the Software without
* restriction, including without limitation the rights to use,
* copy, modify, merge, publish, distribute, sublicense, and/or sell
* copies of the Software, and to permit persons to whom the
* Software is furnished to do so, subject to the following
* conditions:
*
* The above copyright notice and this permission notice shall be
* included in all copies or substantial portions of the Software.
*
* THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
* EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
* OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
* NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
* HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
* WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
* FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
* OTHER DEALINGS IN THE SOFTWARE.
*/
this.createjs=this.createjs||{},createjs.extend=function(t,e){"use strict";function i(){this.constructor=t}return i.prototype=e.prototype,t.prototype=new i},this.createjs=this.createjs||{},createjs.promote=function(t,e){"use strict";var i=t.prototype,n=Object.getPrototypeOf&&Object.getPrototypeOf(i)||i.__proto__;if(n)for(var r in i[(e+="_")+"constructor"]=n.constructor,n)i.hasOwnProperty(r)&&"function"==typeof n[r]&&(i[e+r]=n[r]);return t},this.createjs=this.createjs||{},createjs.deprecate=function(t,e){"use strict";return function(){var i="Deprecated property or method '"+e+"'. See docs for info.";return console&&(console.warn?console.warn(i):console.log(i)),t&&t.apply(this,arguments)}},this.createjs=this.createjs||{},function(){"use strict";function t(t,e,i){this.type=t,this.target=null,this.currentTarget=null,this.eventPhase=0,this.bubbles=!!e,this.cancelable=!!i,this.timeStamp=(new Date).getTime(),this.defaultPrevented=!1,this.propagationStopped=!1,this.immediatePropagationStopped=!1,this.removed=!1}var e=t.prototype;e.preventDefault=function(){this.defaultPrevented=this.cancelable&&!0},e.stopPropagation=function(){this.propagationStopped=!0},e.stopImmediatePropagation=function(){this.immediatePropagationStopped=this.propagationStopped=!0},e.remove=function(){this.removed=!0},e.clone=function(){return new t(this.type,this.bubbles,this.cancelable)},e.set=function(t){for(var e in t)this[e]=t[e];return this},e.toString=function(){return"[Event (type="+this.type+")]"},createjs.Event=t}(),this.createjs=this.createjs||{},function(){"use strict";function t(){this._listeners=null,this._captureListeners=null}var e=t.prototype;t.initialize=function(t){t.addEventListener=e.addEventListener,t.on=e.on,t.removeEventListener=t.off=e.removeEventListener,t.removeAllEventListeners=e.removeAllEventListeners,t.hasEventListener=e.hasEventListener,t.dispatchEvent=e.dispatchEvent,t._dispatchEvent=e._dispatchEvent,t.willTrigger=e.willTrigger},e.addEventListener=function(t,e,i){var n,r=(n=i?this._captureListeners=this._captureListeners||{}:this._listeners=this._listeners||{})[t];return r&&this.removeEventListener(t,e,i),(r=n[t])?r.push(e):n[t]=[e],e},e.on=function(t,e,i,n,r,s){return e.handleEvent&&(i=i||e,e=e.handleEvent),i=i||this,this.addEventListener(t,(function(t){e.call(i,t,r),n&&t.remove()}),s)},e.removeEventListener=function(t,e,i){var n=i?this._captureListeners:this._listeners;if(n){var r=n[t];if(r)for(var s=0,a=r.length;s<a;s++)if(r[s]==e){1==a?delete n[t]:r.splice(s,1);break}}},e.off=e.removeEventListener,e.removeAllEventListeners=function(t){t?(this._listeners&&delete this._listeners[t],this._captureListeners&&delete this._captureListeners[t]):this._listeners=this._captureListeners=null},e.dispatchEvent=function(t,e,i){if("string"==typeof t){var n=this._listeners;if(!(e||n&&n[t]))return!0;t=new createjs.Event(t,e,i)}else t.target&&t.clone&&(t=t.clone());try{t.target=this}catch(t){}if(t.bubbles&&this.parent){for(var r=this,s=[r];r.parent;)s.push(r=r.parent);var a,o=s.length;for(a=o-1;a>=0&&!t.propagationStopped;a--)s[a]._dispatchEvent(t,1+(0==a));for(a=1;a<o&&!t.propagationStopped;a++)s[a]._dispatchEvent(t,3)}else this._dispatchEvent(t,2);return!t.defaultPrevented},e.hasEventListener=function(t){var e=this._listeners,i=this._captureListeners;return!!(e&&e[t]||i&&i[t])},e.willTrigger=function(t){for(var e=this;e;){if(e.hasEventListener(t))return!0;e=e.parent}return!1},e.toString=function(){return"[EventDispatcher]"},e._dispatchEvent=function(t,e){var i,n,r=e<=2?this._captureListeners:this._listeners;if(t&&r&&(n=r[t.type])&&(i=n.length)){try{t.currentTarget=this}catch(t){}try{t.eventPhase=0|e}catch(t){}t.removed=!1,n=n.slice();for(var s=0;s<i&&!t.immediatePropagationStopped;s++){var a=n[s];a.handleEvent?a.handleEvent(t):a(t),t.removed&&(this.off(t.type,a,1==e),t.removed=!1)}}2===e&&this._dispatchEvent(t,2.1)},createjs.EventDispatcher=t}(),this.createjs=this.createjs||{},function(){"use strict";function t(){throw"Ticker cannot be instantiated."}t.RAF_SYNCHED="synched",t.RAF="raf",t.TIMEOUT="timeout",t.timingMode=null,t.maxDelta=0,t.paused=!1,t.removeEventListener=null,t.removeAllEventListeners=null,t.dispatchEvent=null,t.hasEventListener=null,t._listeners=null,createjs.EventDispatcher.initialize(t),t._addEventListener=t.addEventListener,t.addEventListener=function(){return!t._inited&&t.init(),t._addEventListener.apply(t,arguments)},t._inited=!1,t._startTime=0,t._pausedTime=0,t._ticks=0,t._pausedTicks=0,t._interval=50,t._lastTime=0,t._times=null,t._tickTimes=null,t._timerId=null,t._raf=!0,t._setInterval=function(e){t._interval=e,t._inited&&t._setupTick()},t.setInterval=createjs.deprecate(t._setInterval,"Ticker.setInterval"),t._getInterval=function(){return t._interval},t.getInterval=createjs.deprecate(t._getInterval,"Ticker.getInterval"),t._setFPS=function(e){t._setInterval(1e3/e)},t.setFPS=createjs.deprecate(t._setFPS,"Ticker.setFPS"),t._getFPS=function(){return 1e3/t._interval},t.getFPS=createjs.deprecate(t._getFPS,"Ticker.getFPS");try{Object.defineProperties(t,{interval:{get:t._getInterval,set:t._setInterval},framerate:{get:t._getFPS,set:t._setFPS}})}catch(t){console.log(t)}t.init=function(){t._inited||(t._inited=!0,t._times=[],t._tickTimes=[],t._startTime=t._getTime(),t._times.push(t._lastTime=0),t.interval=t._interval)},t.reset=function(){if(t._raf){var e=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame;e&&e(t._timerId)}else clearTimeout(t._timerId);t.removeAllEventListeners("tick"),t._timerId=t._times=t._tickTimes=null,t._startTime=t._lastTime=t._ticks=t._pausedTime=0,t._inited=!1},t.getMeasuredTickTime=function(e){var i=0,n=t._tickTimes;if(!n||n.length<1)return-1;e=Math.min(n.length,e||0|t._getFPS());for(var r=0;r<e;r++)i+=n[r];return i/e},t.getMeasuredFPS=function(e){var i=t._times;return!i||i.length<2?-1:(e=Math.min(i.length-1,e||0|t._getFPS()),1e3/((i[0]-i[e])/e))},t.getTime=function(e){return t._startTime?t._getTime()-(e?t._pausedTime:0):-1},t.getEventTime=function(e){return t._startTime?(t._lastTime||t._startTime)-(e?t._pausedTime:0):-1},t.getTicks=function(e){return t._ticks-(e?t._pausedTicks:0)},t._handleSynch=function(){t._timerId=null,t._setupTick(),t._getTime()-t._lastTime>=.97*(t._interval-1)&&t._tick()},t._handleRAF=function(){t._timerId=null,t._setupTick(),t._tick()},t._handleTimeout=function(){t._timerId=null,t._setupTick(),t._tick()},t._setupTick=function(){if(null==t._timerId){var e=t.timingMode;if(e==t.RAF_SYNCHED||e==t.RAF){var i=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame;if(i)return t._timerId=i(e==t.RAF?t._handleRAF:t._handleSynch),void(t._raf=!0)}t._raf=!1,t._timerId=setTimeout(t._handleTimeout,t._interval)}},t._tick=function(){var e=t.paused,i=t._getTime(),n=i-t._lastTime;if(t._lastTime=i,t._ticks++,e&&(t._pausedTicks++,t._pausedTime+=n),t.hasEventListener("tick")){var r=new createjs.Event("tick"),s=t.maxDelta;r.delta=s&&n>s?s:n,r.paused=e,r.time=i,r.runTime=i-t._pausedTime,t.dispatchEvent(r)}for(t._tickTimes.unshift(t._getTime()-i);t._tickTimes.length>100;)t._tickTimes.pop();for(t._times.unshift(i);t._times.length>100;)t._times.pop()};var e=window,i=e.performance.now||e.performance.mozNow||e.performance.msNow||e.performance.oNow||e.performance.webkitNow;t._getTime=function(){return(i&&i.call(e.performance)||(new Date).getTime())-t._startTime},createjs.Ticker=t}(),this.createjs=this.createjs||{},function(){"use strict";function t(t){this.EventDispatcher_constructor(),this.ignoreGlobalPause=!1,this.loop=0,this.useTicks=!1,this.reversed=!1,this.bounce=!1,this.timeScale=1,this.duration=0,this.position=0,this.rawPosition=-1,this._paused=!0,this._next=null,this._prev=null,this._parent=null,this._labels=null,this._labelList=null,t&&(this.useTicks=!!t.useTicks,this.ignoreGlobalPause=!!t.ignoreGlobalPause,this.loop=!0===t.loop?-1:t.loop||0,this.reversed=!!t.reversed,this.bounce=!!t.bounce,this.timeScale=t.timeScale||1,t.onChange&&this.addEventListener("change",t.onChange),t.onComplete&&this.addEventListener("complete",t.onComplete))}var e=createjs.extend(t,createjs.EventDispatcher);e._setPaused=function(t){return createjs.Tween._register(this,t),this},e.setPaused=createjs.deprecate(e._setPaused,"AbstractTween.setPaused"),e._getPaused=function(){return this._paused},e.getPaused=createjs.deprecate(e._getPaused,"AbstactTween.getPaused"),e._getCurrentLabel=function(t){var e=this.getLabels();null==t&&(t=this.position);for(var i=0,n=e.length;i<n&&!(t<e[i].position);i++);return 0===i?null:e[i-1].label},e.getCurrentLabel=createjs.deprecate(e._getCurrentLabel,"AbstractTween.getCurrentLabel");try{Object.defineProperties(e,{paused:{set:e._setPaused,get:e._getPaused},currentLabel:{get:e._getCurrentLabel}})}catch(t){}e.advance=function(t,e){this.setPosition(this.rawPosition+t*this.timeScale,e)},e.setPosition=function(t,e,i,n){var r=this.duration,s=this.loop,a=this.rawPosition,o=0,h=0,u=!1;if(t<0&&(t=0),0===r){if(u=!0,-1!==a)return u}else{if(h=t-(o=t/r|0)*r,(u=-1!==s&&t>=s*r+r)&&(t=(h=r)*(o=s)+r),t===a)return u;!this.reversed!=!(this.bounce&&o%2)&&(h=r-h)}this.position=h,this.rawPosition=t,this._updatePosition(i,u),u&&(this.paused=!0),n&&n(this),e||this._runActions(a,t,i,!i&&-1===a),this.dispatchEvent("change"),u&&this.dispatchEvent("complete")},e.calculatePosition=function(t){var e=this.duration,i=this.loop,n=0,r=0;return 0===e?0:(-1!==i&&t>=i*e+e?(r=e,n=i):r=t<0?0:t-(n=t/e|0)*e,!this.reversed!=!(this.bounce&&n%2)?e-r:r)},e.getLabels=function(){var t=this._labelList;if(!t){t=this._labelList=[];var e=this._labels;for(var i in e)t.push({label:i,position:e[i]});t.sort((function(t,e){return t.position-e.position}))}return t},e.setLabels=function(t){this._labels=t,this._labelList=null},e.addLabel=function(t,e){this._labels||(this._labels={}),this._labels[t]=e;var i=this._labelList;if(i){for(var n=0,r=i.length;n<r&&!(e<i[n].position);n++);i.splice(n,0,{label:t,position:e})}},e.gotoAndPlay=function(t){this.paused=!1,this._goto(t)},e.gotoAndStop=function(t){this.paused=!0,this._goto(t)},e.resolve=function(t){var e=Number(t);return isNaN(e)&&(e=this._labels&&this._labels[t]),e},e.toString=function(){return"[AbstractTween]"},e.clone=function(){throw"AbstractTween can not be cloned."},e._init=function(t){t&&t.paused||(this.paused=!1),t&&null!=t.position&&this.setPosition(t.position)},e._updatePosition=function(t,e){},e._goto=function(t){var e=this.resolve(t);null!=e&&this.setPosition(e,!1,!0)},e._runActions=function(t,e,i,n){if(this._actionHead||this.tweens){var r,s,a,o,h=this.duration,u=this.reversed,c=this.bounce,l=this.loop;if(0===h?(r=s=a=o=0,u=c=!1):(a=t-(r=t/h|0)*h,o=e-(s=e/h|0)*h),-1!==l&&(s>l&&(o=h,s=l),r>l&&(a=h,r=l)),i)return this._runActionsRange(o,o,i,n);if(r!==s||a!==o||i||n){-1===r&&(r=a=0);var p=t<=e,_=r;do{var d=_===r?a:p?0:h,g=_===s?o:p?h:0;if(!u!=!(c&&_%2)&&(d=h-d,g=h-g),c&&_!==r&&d===g);else if(this._runActionsRange(d,g,i,n||_!==r&&!c))return!0;n=!1}while(p&&++_<=s||!p&&--_>=s)}}},e._runActionsRange=function(t,e,i,n){},createjs.AbstractTween=createjs.promote(t,"EventDispatcher")}(),this.createjs=this.createjs||{},function(){"use strict";function t(e,n){this.AbstractTween_constructor(n),this.pluginData=null,this.target=e,this.passive=!1,this._stepHead=new i(null,0,0,{},null,!0),this._stepTail=this._stepHead,this._stepPosition=0,this._actionHead=null,this._actionTail=null,this._plugins=null,this._pluginIds=null,this._injected=null,n&&(this.pluginData=n.pluginData,n.override&&t.removeTweens(e)),this.pluginData||(this.pluginData={}),this._init(n)}var e=createjs.extend(t,createjs.AbstractTween);function i(t,e,i,n,r,s){this.next=null,this.prev=t,this.t=e,this.d=i,this.props=n,this.ease=r,this.passive=s,this.index=t?t.index+1:0}function n(t,e,i,n,r){this.next=null,this.prev=t,this.t=e,this.d=0,this.scope=i,this.funct=n,this.params=r}t.IGNORE={},t._tweens=[],t._plugins=null,t._tweenHead=null,t._tweenTail=null,t.get=function(e,i){return new t(e,i)},t.tick=function(e,i){for(var n=t._tweenHead;n;){var r=n._next;i&&!n.ignoreGlobalPause||n._paused||n.advance(n.useTicks?1:e),n=r}},t.handleEvent=function(t){"tick"===t.type&&this.tick(t.delta,t.paused)},t.removeTweens=function(e){if(e.tweenjs_count){for(var i=t._tweenHead;i;){var n=i._next;i.target===e&&t._register(i,!0),i=n}e.tweenjs_count=0}},t.removeAllTweens=function(){for(var e=t._tweenHead;e;){var i=e._next;e._paused=!0,e.target&&(e.target.tweenjs_count=0),e._next=e._prev=null,e=i}t._tweenHead=t._tweenTail=null},t.hasActiveTweens=function(e){return e?!!e.tweenjs_count:!!t._tweenHead},t._installPlugin=function(e){for(var i=e.priority=e.priority||0,n=t._plugins=t._plugins||[],r=0,s=n.length;r<s&&!(i<n[r].priority);r++);n.splice(r,0,e)},t._register=function(e,i){var n=e.target;if(!i&&e._paused){n&&(n.tweenjs_count=n.tweenjs_count?n.tweenjs_count+1:1);var r=t._tweenTail;r?(t._tweenTail=r._next=e,e._prev=r):t._tweenHead=t._tweenTail=e,!t._inited&&createjs.Ticker&&(createjs.Ticker.addEventListener("tick",t),t._inited=!0)}else if(i&&!e._paused){n&&n.tweenjs_count--;var s=e._next,a=e._prev;s?s._prev=a:t._tweenTail=a,a?a._next=s:t._tweenHead=s,e._next=e._prev=null}e._paused=i},e.wait=function(t,e){return t>0&&this._addStep(+t,this._stepTail.props,null,e),this},e.to=function(t,e,i){(null==e||e<0)&&(e=0);var n=this._addStep(+e,null,i);return this._appendProps(t,n),this},e.label=function(t){return this.addLabel(t,this.duration),this},e.call=function(t,e,i){return this._addAction(i||this.target,t,e||[this])},e.set=function(t,e){return this._addAction(e||this.target,this._set,[t])},e.play=function(t){return this._addAction(t||this,this._set,[{paused:!1}])},e.pause=function(t){return this._addAction(t||this,this._set,[{paused:!0}])},e.w=e.wait,e.t=e.to,e.c=e.call,e.s=e.set,e.toString=function(){return"[Tween]"},e.clone=function(){throw"Tween can not be cloned."},e._addPlugin=function(t){var e=this._pluginIds||(this._pluginIds={}),i=t.ID;if(i&&!e[i]){e[i]=!0;for(var n=this._plugins||(this._plugins=[]),r=t.priority||0,s=0,a=n.length;s<a;s++)if(r<n[s].priority)return void n.splice(s,0,t);n.push(t)}},e._updatePosition=function(t,e){var i=this._stepHead.next,n=this.position,r=this.duration;if(this.target&&i){for(var s=i.next;s&&s.t<=n;)s=(i=i.next).next;var a=e?0===r?1:n/r:(n-i.t)/i.d;this._updateTargetProps(i,a,e)}this._stepPosition=i?n-i.t:0},e._updateTargetProps=function(e,i,n){if(!(this.passive=!!e.passive)){var r,s,a,o,h=e.prev.props,u=e.props;(o=e.ease)&&(i=o(i,0,1,1));var c=this._plugins;t:for(var l in h){s=h[l],a=u[l];var p=l.split("_");if("scale"==p[1]){if(r=s!==a&&"number"==typeof s?s+(a-s)*i:i>=1?a:s,c)for(var _=0,d=c.length;_<d;_++){if((g=c[_].change(this,e,l,r,i,n))===t.IGNORE)continue t;void 0!==g&&(r=g)}this.target[l]=r,"normal"==this.target.label?this.flower_sprite(r,p[2]):"rnd"==this.target.label?this.flowerrnd_sprite(r,p[2]):"sun"==this.target.label&&this.sunflower_sprite(r,p[2])}else{if(r=s!==a&&"number"==typeof s?s+(a-s)*i:i>=1?a:s,c)for(_=0,d=c.length;_<d;_++){var g;if((g=c[_].change(this,e,l,r,i,n))===t.IGNORE)continue t;void 0!==g&&(r=g)}this.target[l]=r}}}},e.flower_sprite=function(t,e){for(var i=0;i<this.target.pile;i++){var n=0;this.target.graphics_out[i].clear(),this.target.graphics_out[i].beginStroke(this.target.color).beginFill(this.target.color);for(var r=360/this.target.petal,s=0;s<360;s+=r)this.target.rate_count[e]=t,0==n&&this.target.graphics_out[i].moveTo(this.target.size*Math.cos(0*Math.PI/180),this.target.size*Math.sin(0*Math.PI/180)),s+r>360?this.target.graphics_out[i].quadraticCurveTo((this.target.size+this.target.petal_size)*this.target.rate_count[n]*Math.cos((s+r-r/2)*Math.PI/180),(this.target.size+this.target.petal_size)*this.target.rate_count[n]*Math.sin((s+r-r/2)*Math.PI/180),this.target.size*Math.cos(0*Math.PI/180),this.target.size*Math.sin(0*Math.PI/180)):this.target.graphics_out[i].quadraticCurveTo((this.target.size+this.target.petal_size)*this.target.rate_count[n]*Math.cos((s+r-r/2)*Math.PI/180),(this.target.size+this.target.petal_size)*this.target.rate_count[n]*Math.sin((s+r-r/2)*Math.PI/180),this.target.size*Math.cos((s+r)*Math.PI/180),this.target.size*Math.sin((s+r)*Math.PI/180)),n++}},e.flowerrnd_sprite=function(t,e){for(var i=0;i<this.target.pile;i++){var n=0;this.target.graphics_out[i].clear(),this.target.graphics_out[i].beginStroke(this.target.color).beginFill(this.target.color);for(var r=360/this.target.petal,s=0;s<360;s+=r)this.target.rate_count[e]=t,0==n&&this.target.graphics_out[i].moveTo(this.target.size*Math.cos(0*Math.PI/180),this.target.size*Math.sin(0*Math.PI/180)),s+r>360?this.target.graphics_out[i].quadraticCurveTo((this.target.noise_2[n]+this.target.size+this.target.petal_size)*this.target.rate_count[n]*Math.cos((this.target.noise_1[n]+s+r-r/2)*Math.PI/180),(this.target.noise_2[n]+this.target.size+this.target.petal_size)*this.target.rate_count[n]*Math.sin((this.target.noise_1[n]+s+r-r/2)*Math.PI/180),this.target.size*Math.cos(0*Math.PI/180),this.target.size*Math.sin(0*Math.PI/180)):this.target.graphics_out[i].quadraticCurveTo((this.target.noise_2[n]+this.target.size+this.target.petal_size)*this.target.rate_count[n]*Math.cos((this.target.noise_1[n]+s+r-r/2)*Math.PI/180),(this.target.noise_2[n]+this.target.size+this.target.petal_size)*this.target.rate_count[n]*Math.sin((this.target.noise_1[n]+s+r-r/2)*Math.PI/180),this.target.size*Math.cos((s+r)*Math.PI/180),this.target.size*Math.sin((s+r)*Math.PI/180)),n++}},e.sunflower_sprite=function(t,e){for(var i=0;i<this.target.pile;i++){var n=0;this.target.graphics_out[i].clear(),this.target.graphics_out[i].beginStroke(this.target.color).beginFill(this.target.color);for(var r=360/this.target.petal,s=0;s<360;s+=r)this.target.rate_count[e]=t,0==n&&this.target.graphics_out[i].moveTo(this.target.size*Math.cos(0*Math.PI/180),this.target.size*Math.sin(0*Math.PI/180)),s+r>360?this.target.graphics_out[i].quadraticCurveTo((this.target.size+this.target.petal_size)*this.target.rate_count[n]*Math.cos((s+r-r/2)*Math.PI/180),(this.target.size+this.target.petal_size)*this.target.rate_count[n]*Math.sin((s+r-r/2)*Math.PI/180),this.target.size*Math.cos(0*Math.PI/180),this.target.size*Math.sin(0*Math.PI/180)):this.target.graphics_out[i].quadraticCurveTo((this.target.size+this.target.petal_size)*this.target.rate_count[n]*Math.cos((s+r-r/2)*Math.PI/180),(this.target.size+this.target.petal_size)*this.target.rate_count[n]*Math.sin((s+r-r/2)*Math.PI/180),this.target.size*Math.cos((s+r)*Math.PI/180),this.target.size*Math.sin((s+r)*Math.PI/180)),n++;n=0;for(s=0;s<360;s+=13)this.target.graphics_out_line[n].clear(),this.target.graphics_out_line[n].beginStroke(this.target.color_line).setStrokeStyle(1),this.target.graphics_out_line[n].moveTo(this.target.size*Math.cos(s*Math.PI/180),this.target.size*Math.sin(s*(Math.PI/180))),this.target.graphics_out_line[n].lineTo(this.target.size*Math.cos((180-s)*Math.PI/180),this.target.size*Math.sin((180-s)*(Math.PI/180))),n++;for(s=0;s<360;s+=13)this.target.graphics_out_line[n].clear(),this.target.graphics_out_line[n].beginStroke(this.target.color_line).setStrokeStyle(1),this.target.graphics_out_line[n].moveTo(this.target.size*Math.cos((s-45)*Math.PI/180),this.target.size*Math.sin((s-45)*(Math.PI/180))),this.target.graphics_out_line[n].lineTo(this.target.size*Math.cos((225-s)*Math.PI/180),this.target.size*Math.sin((225-s)*(Math.PI/180))),n++}},e._runActionsRange=function(t,e,i,n){var r=t>e,s=r?this._actionTail:this._actionHead,a=e,o=t;r&&(a=t,o=e);for(var h=this.position;s;){var u=s.t;if((u===e||u>o&&u<a||n&&u===t)&&(s.funct.apply(s.scope,s.params),h!==this.position))return!0;s=r?s.prev:s.next}},e._appendProps=function(e,i,n){var r,s,a,o,h,u=this._stepHead.props,c=this.target,l=t._plugins,p=i.prev,_=p.props,d=i.props||(i.props=this._cloneProps(_)),g={};for(r in e)if(e.hasOwnProperty(r)&&(g[r]=d[r]=e[r],void 0===u[r])){if(o=void 0,l)for(s=l.length-1;s>=0;s--)if(void 0!==(a=l[s].init(this,r,o))&&(o=a),o===t.IGNORE){delete d[r],delete g[r];break}o!==t.IGNORE&&(void 0===o&&(o=c[r]),_[r]=void 0===o?null:o)}for(r in g){a=e[r];for(var f,v=p;(f=v)&&(v=f.prev);)if(v.props!==f.props){if(void 0!==v.props[r])break;v.props[r]=_[r]}}if(!1!==n&&(l=this._plugins))for(s=l.length-1;s>=0;s--)l[s].step(this,i,g);(h=this._injected)&&(this._injected=null,this._appendProps(h,i,!1))},e._injectProp=function(t,e){(this._injected||(this._injected={}))[t]=e},e._addStep=function(t,e,n,r){var s=new i(this._stepTail,this.duration,t,e,n,r||!1);return this.duration+=t,this._stepTail=this._stepTail.next=s},e._addAction=function(t,e,i){var r=new n(this._actionTail,this.duration,t,e,i);return this._actionTail?this._actionTail.next=r:this._actionHead=r,this._actionTail=r,this},e._set=function(t){for(var e in t)this[e]=t[e]},e._cloneProps=function(t){var e={};for(var i in t)e[i]=t[i];return e},createjs.Tween=createjs.promote(t,"AbstractTween")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t){var e,i;t instanceof Array||null==t&&arguments.length>1?(e=t,i=arguments[1],t=arguments[2]):t&&(e=t.tweens,i=t.labels),this.AbstractTween_constructor(t),this.tweens=[],e&&this.addTween.apply(this,e),this.setLabels(i),this._init(t)}var e=createjs.extend(t,createjs.AbstractTween);e.addTween=function(t){t._parent&&t._parent.removeTween(t);var e=arguments.length;if(e>1){for(var i=0;i<e;i++)this.addTween(arguments[i]);return arguments[e-1]}if(0===e)return null;this.tweens.push(t),t._parent=this,t.paused=!0;var n=t.duration;return t.loop>0&&(n*=t.loop+1),n>this.duration&&(this.duration=n),this.rawPosition>=0&&t.setPosition(this.rawPosition),t},e.removeTween=function(t){var e=arguments.length;if(e>1){for(var i=!0,n=0;n<e;n++)i=i&&this.removeTween(arguments[n]);return i}if(0===e)return!0;var r=this.tweens;for(n=r.length;n--;)if(r[n]===t)return r.splice(n,1),t._parent=null,t.duration>=this.duration&&this.updateDuration(),!0;return!1},e.updateDuration=function(){this.duration=0;for(var t=0,e=this.tweens.length;t<e;t++){var i=this.tweens[t],n=i.duration;i.loop>0&&(n*=i.loop+1),n>this.duration&&(this.duration=n)}},e.toString=function(){return"[Timeline]"},e.clone=function(){throw"Timeline can not be cloned."},e._updatePosition=function(t,e){for(var i=this.position,n=0,r=this.tweens.length;n<r;n++)this.tweens[n].setPosition(i,!0,t)},e._runActionsRange=function(t,e,i,n){for(var r=this.position,s=0,a=this.tweens.length;s<a;s++)if(this.tweens[s]._runActions(t,e,i,n),r!==this.position)return!0},createjs.Timeline=createjs.promote(t,"AbstractTween")}(),this.createjs=this.createjs||{},function(){"use strict";function t(){throw"Ease cannot be instantiated."}t.linear=function(t){return t},t.none=t.linear,t.get=function(t){return t<-1?t=-1:t>1&&(t=1),function(e){return 0==t?e:t<0?e*(e*-t+1+t):e*((2-e)*t+(1-t))}},t.getPowIn=function(t){return function(e){return Math.pow(e,t)}},t.getPowOut=function(t){return function(e){return 1-Math.pow(1-e,t)}},t.getPowInOut=function(t){return function(e){return(e*=2)<1?.5*Math.pow(e,t):1-.5*Math.abs(Math.pow(2-e,t))}},t.quadIn=t.getPowIn(2),t.quadOut=t.getPowOut(2),t.quadInOut=t.getPowInOut(2),t.cubicIn=t.getPowIn(3),t.cubicOut=t.getPowOut(3),t.cubicInOut=t.getPowInOut(3),t.quartIn=t.getPowIn(4),t.quartOut=t.getPowOut(4),t.quartInOut=t.getPowInOut(4),t.quintIn=t.getPowIn(5),t.quintOut=t.getPowOut(5),t.quintInOut=t.getPowInOut(5),t.sineIn=function(t){return 1-Math.cos(t*Math.PI/2)},t.sineOut=function(t){return Math.sin(t*Math.PI/2)},t.sineInOut=function(t){return-.5*(Math.cos(Math.PI*t)-1)},t.getBackIn=function(t){return function(e){return e*e*((t+1)*e-t)}},t.backIn=t.getBackIn(1.7),t.getBackOut=function(t){return function(e){return--e*e*((t+1)*e+t)+1}},t.backOut=t.getBackOut(1.7),t.getBackInOut=function(t){return t*=1.525,function(e){return(e*=2)<1?e*e*((t+1)*e-t)*.5:.5*((e-=2)*e*((t+1)*e+t)+2)}},t.backInOut=t.getBackInOut(1.7),t.circIn=function(t){return-(Math.sqrt(1-t*t)-1)},t.circOut=function(t){return Math.sqrt(1- --t*t)},t.circInOut=function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},t.bounceIn=function(e){return 1-t.bounceOut(1-e)},t.bounceOut=function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},t.bounceInOut=function(e){return e<.5?.5*t.bounceIn(2*e):.5*t.bounceOut(2*e-1)+.5},t.getElasticIn=function(t,e){var i=2*Math.PI;return function(n){if(0==n||1==n)return n;var r=e/i*Math.asin(1/t);return-t*Math.pow(2,10*(n-=1))*Math.sin((n-r)*i/e)}},t.elasticIn=t.getElasticIn(1,.3),t.getElasticOut=function(t,e){var i=2*Math.PI;return function(n){if(0==n||1==n)return n;var r=e/i*Math.asin(1/t);return t*Math.pow(2,-10*n)*Math.sin((n-r)*i/e)+1}},t.elasticOut=t.getElasticOut(1,.3),t.getElasticInOut=function(t,e){var i=2*Math.PI;return function(n){var r=e/i*Math.asin(1/t);return(n*=2)<1?t*Math.pow(2,10*(n-=1))*Math.sin((n-r)*i/e)*-.5:t*Math.pow(2,-10*(n-=1))*Math.sin((n-r)*i/e)*.5+1}},t.elasticInOut=t.getElasticInOut(1,.3*1.5),createjs.Ease=t}(),this.createjs=this.createjs||{},function(){"use strict";function t(){throw"MotionGuidePlugin cannot be instantiated."}var e=t;e.priority=0,e.ID="MotionGuide",e.install=function(){return createjs.Tween._installPlugin(t),createjs.Tween.IGNORE},e.init=function(t,i,n){"guide"==i&&t._addPlugin(e)},e.step=function(t,i,n){for(var r in n)if("guide"===r){var s=i.props.guide,a=e._solveGuideData(n.guide,s);s.valid=!a;var o=s.endData;if(t._injectProp("x",o.x),t._injectProp("y",o.y),a||!s.orient)break;var h=void 0===i.prev.props.rotation?t.target.rotation||0:i.prev.props.rotation;if(s.startOffsetRot=h-s.startData.rotation,"fixed"==s.orient)s.endAbsRot=o.rotation+s.startOffsetRot,s.deltaRotation=0;else{var u=void 0===n.rotation?t.target.rotation||0:n.rotation,c=u-s.endData.rotation-s.startOffsetRot,l=c%360;switch(s.endAbsRot=u,s.orient){case"auto":s.deltaRotation=c;break;case"cw":s.deltaRotation=(l+360)%360+360*Math.abs(c/360|0);break;case"ccw":s.deltaRotation=(l-360)%360+-360*Math.abs(c/360|0)}}t._injectProp("rotation",s.endAbsRot)}},e.change=function(t,i,n,r,s,a){var o=i.props.guide;if(o&&i.props!==i.prev.props&&o!==i.prev.props.guide)return"guide"===n&&!o.valid||"x"==n||"y"==n||"rotation"===n&&o.orient?createjs.Tween.IGNORE:void e._ratioToPositionData(s,o,t.target)},e.debug=function(t,i,n){t=t.guide||t;var r=e._findPathProblems(t);if(r&&console.error("MotionGuidePlugin Error found: \n"+r),!i)return r;var s=t.path,a=s.length;for(i.save(),i.lineCap="round",i.lineJoin="miter",i.beginPath(),i.moveTo(s[0],s[1]),c=2;c<a;c+=4)i.quadraticCurveTo(s[c],s[c+1],s[c+2],s[c+3]);i.strokeStyle="black",i.lineWidth=4.5,i.stroke(),i.strokeStyle="white",i.lineWidth=3,i.stroke(),i.closePath();var o=n.length;if(n&&o){var h={},u={};e._solveGuideData(t,h);for(var c=0;c<o;c++)h.orient="fixed",e._ratioToPositionData(n[c],h,u),i.beginPath(),i.moveTo(u.x,u.y),i.lineTo(u.x+9*Math.cos(.0174533*u.rotation),u.y+9*Math.sin(.0174533*u.rotation)),i.strokeStyle="black",i.lineWidth=4.5,i.stroke(),i.strokeStyle="red",i.lineWidth=3,i.stroke(),i.closePath()}return i.restore(),r},e._solveGuideData=function(t,i){var n;if(n=e.debug(t))return n;var r=i.path=t.path;i.orient=t.orient;i.subLines=[],i.totalLength=0,i.startOffsetRot=0,i.deltaRotation=0,i.startData={ratio:0},i.endData={ratio:1},i.animSpan=1;var s,a,o,h,u,c,l,p,_,d=r.length,g={};for(s=r[0],a=r[1],l=2;l<d;l+=4){o=r[l],h=r[l+1],u=r[l+2],c=r[l+3];var f={weightings:[],estLength:0,portion:0},v=s,m=a;for(p=1;p<=10;p++){e._getParamsForCurve(s,a,o,h,u,c,p/10,!1,g);var w=g.x-v,P=g.y-m;_=Math.sqrt(w*w+P*P),f.weightings.push(_),f.estLength+=_,v=g.x,m=g.y}for(i.totalLength+=f.estLength,p=0;p<10;p++)_=f.estLength,f.weightings[p]=f.weightings[p]/_;i.subLines.push(f),s=u,a=c}_=i.totalLength;var T=i.subLines.length;for(l=0;l<T;l++)i.subLines[l].portion=i.subLines[l].estLength/_;var b=isNaN(t.start)?0:t.start,M=isNaN(t.end)?1:t.end;e._ratioToPositionData(b,i,i.startData),e._ratioToPositionData(M,i,i.endData),i.startData.ratio=b,i.endData.ratio=M,i.animSpan=i.endData.ratio-i.startData.ratio},e._ratioToPositionData=function(t,i,n){var r,s,a,o,h,u=i.subLines,c=0,l=t*i.animSpan+i.startData.ratio;for(s=u.length,r=0;r<s;r++){if(c+(o=u[r].portion)>=l){h=r;break}c+=o}void 0===h&&(h=s-1,c-=o);var p=u[h].weightings,_=o;for(s=p.length,r=0;r<s&&!(c+(o=p[r]*_)>=l);r++)c+=o;h=4*h+2,a=r/10+(l-c)/o*.1;var d=i.path;return e._getParamsForCurve(d[h-2],d[h-1],d[h],d[h+1],d[h+2],d[h+3],a,i.orient,n),i.orient&&(t>=.99999&&t<=1.00001&&void 0!==i.endAbsRot?n.rotation=i.endAbsRot:n.rotation+=i.startOffsetRot+t*i.deltaRotation),n},e._getParamsForCurve=function(t,e,i,n,r,s,a,o,h){var u=1-a;h.x=u*u*t+2*u*a*i+a*a*r,h.y=u*u*e+2*u*a*n+a*a*s,o&&(h.rotation=57.2957795*Math.atan2((n-e)*u+(s-n)*a,(i-t)*u+(r-i)*a))},e._findPathProblems=function(t){var e=t.path,i=e&&e.length||0;if(i<6||(i-2)%4){var n="\tCannot parse 'path' array due to invalid number of entries in path. ";return n+="There should be an odd number of points, at least 3 points, and 2 entries per point (x & y). ",n+="See 'CanvasRenderingContext2D.quadraticCurveTo' for details as 'path' models a quadratic bezier.\n\n",n+="Only [ "+i+" ] values found. Expected: "+Math.max(4*Math.ceil((i-2)/4)+2,6)}for(var r=0;r<i;r++)if(isNaN(e[r]))return"All data in path array must be numeric";var s=t.start;if(isNaN(s)&&void 0!==s)return"'start' out of bounds. Expected 0 to 1, got: "+s;var a=t.end;if(isNaN(a)&&void 0!==a)return"'end' out of bounds. Expected 0 to 1, got: "+a;var o=t.orient;return o&&"fixed"!=o&&"auto"!=o&&"cw"!=o&&"ccw"!=o?'Invalid orientation value. Expected ["fixed", "auto", "cw", "ccw", undefined], got: '+o:void 0},createjs.MotionGuidePlugin=t}(),this.createjs=this.createjs||{},function(){"use strict";var t=createjs.TweenJS=createjs.TweenJS||{};t.version="1.0.0",t.buildDate="Thu, 14 Sep 2017 19:47:47 GMT"}()